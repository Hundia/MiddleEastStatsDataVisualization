<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Drawing Data</title>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- Select stuff extention for bootstrap -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/css/bootstrap-select.min.css">
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/i18n/defaults-*.min.js"></script>-->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/bootstrap-select.min.js"></script>-->

    <audio id="my_audio" src="audio/GOT.mp3" loop="loop"></audio>

    <script type="text/javascript" src="/Dataset/Indicator.json"></script>

    <script type="text/javascript" src="./js/timeline.js"></script>
    <link rel="stylesheet" href="./css/timeline.css" />

    <link href="./c3/c3.css" rel="stylesheet">

    <!-- Load d3.js and c3.js -->
    <script src="./c3/d3/d3.min.js"></script>
    <script src="./c3/c3.min.js"></script>

    <style>
            .bar{
                fill: steelblue;
            }

            .bar:hover{
                fill: brown;
            }

            .axis {
                font: 10px sans-serif;
            }

            .axis path,
            .axis line {
                fill: none;
                stroke: #000;
                shape-rendering: crispEdges;
            }
            .row {
                margin-bottom: 35px;
            }
            .graph {
                margin-bottom: 150px;
                /*margin-right: 15px;*/
            }

            .center {
                margin: auto;
                width: auto;
            }
            .ovrflw {
                overflow-y: scroll;
            }
            .loader {
                margin: 0 auto;
                border: 16px solid #f3f3f3; /* Light grey */
                border-top: 16px solid #3498db; /* Blue */
                border-radius: 50%;
                width: 120px;
                height: 120px;
                animation: spin 2s linear infinite;
            }

            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }

    </style>

</head>


<body>

    <!--<audio controls>-->
        <!--<source src="audio/GOT.mp3" type="audio/mpeg">-->
    <!--</audio>-->
    <div class="container animated zoomInLeft">
        <h1 align="center">The war of the middle east</h1>
        <h2 align="center">A song of stats and data</h2>


        <div class="row">
            <div class="timeline-container timeline-theme-1 row">
                <div class="timeline js-timeline">
                    <!--<div data-time="1947">-->
                        <!--November 1947 – July 1949 - Israeli war of independence-->
                    <!--</div>-->
                    <!--<div data-time="1956">-->
                        <!--October 1956 - Suez Crisis-->
                    <!--</div>-->
                    <div data-time="1967" class="ovrflw">
                        <p>The <b>Six-Day War</b> (<a href="https://en.wikipedia.orghttps://en.wikipedia.orghttps://en.wikipedia.orghttps://en.wikipedia.org/wiki/Hebrew_language" title="Hebrew language">Hebrew</a>: <span lang="he" xml:lang="he">מלחמת ששת הימים</span>, <i>Milhemet Sheshet Ha Yamim</i>; <a href="https://en.wikipedia.orghttps://en.wikipedia.org/wiki/Arabic_language" class="mw-redirect" title="Arabic language">Arabic</a>: <span lang="ar" xml:lang="ar">النكسة</span>, <i>an-Naksah</i>, "The Setback" or <span lang="ar" xml:lang="ar">حرب ۱۹٦۷</span>, <i>Ḥarb 1967</i>, "War of 1967"), also known as the <b>June War</b>, <b>1967 Arab–Israeli War</b>, or <b>Third Arab–Israeli War</b>, was fought between June 5 and 10, 1967 by <a href="https://en.wikipedia.orghttps://en.wikipedia.org/wiki/Israel" title="Israel">Israel</a> and the neighboring states of <a href="https://en.wikipedia.org/wiki/Egypt" title="Egypt">Egypt</a> (known at the time as the <a href="https://en.wikipedia.org/wiki/United_Arab_Republic" title="United Arab Republic">United Arab Republic</a>), <a href="https://en.wikipedia.org/wiki/Jordan" title="Jordan">Jordan</a>, and <a href="https://en.wikipedia.org/wiki/Syria" title="Syria">Syria</a>.</p>
                        <table style="width:100%;margin:0;padding:0;border:0">
                            <tr>
                                <th style="padding-right:1em" valign="top">Date</th>
                                <td>June 5–10, 1967 (6 days)</td>
                            </tr>
                            <tr>
                                <th style="padding-right:1em" valign="top">Location</th>
                                <td><span class="location"><a href="https://en.wikipedia.org/wiki/Middle_East" title="Middle East">Middle East</a></span></td>
                            </tr>
                            <tr>
                                <th style="padding-right:1em" valign="top">Result</th>
                                <td>Decisive <a href="https://en.wikipedia.org/wiki/Israeli_Army" class="mw-redirect" title="Israeli Army">Israeli</a> victory</td>
                            </tr>
                            <tr>
                                <th style="padding-right:1em" valign="top">Territorial<br />
                                    changes</th>
                                <td>Israel captures the <a href="https://en.wikipedia.org/wiki/Gaza_Strip" title="Gaza Strip">Gaza Strip</a> and the <a href="https://en.wikipedia.org/wiki/Sinai_Peninsula" title="Sinai Peninsula">Sinai Peninsula</a> from Egypt, the <a href="https://en.wikipedia.org/wiki/West_Bank" title="West Bank">West Bank</a> (including <a href="https://en.wikipedia.org/wiki/East_Jerusalem" title="East Jerusalem">East Jerusalem</a>) from Jordan, and the <a href="https://en.wikipedia.org/wiki/Golan_Heights" title="Golan Heights">Golan Heights</a> from Syria</td>
                            </tr>
                        </table>
                    </div>
                    <div data-time="1968" class="ovrflw">
                        <p>The <b>War of Attrition</b> (<a href="https://en.wikipedia.org/wiki/Arabic_language" class="mw-redirect" title="Arabic language">Arabic</a>: <span lang="ar" dir="rtl" xml:lang="ar">حرب الاستنزاف</span>‎‎ <i>Ḥarb al-Istinzāf</i>, <a href="https://en.wikipedia.org/wiki/Hebrew_language" title="Hebrew language">Hebrew</a>: <span lang="he" dir="rtl" xml:lang="he">מלחמת ההתשה</span>‎‎ <i>Milhemet haHatashah</i>) involved fighting between <a href="https://en.wikipedia.org/wiki/Israel" title="Israel">Israel</a> and <a href="https://en.wikipedia.org/wiki/Egypt" title="Egypt">Egypt</a>, <a href="https://en.wikipedia.org/wiki/Jordan" title="Jordan">Jordan</a>, <a href="https://en.wikipedia.org/wiki/PLO" class="mw-redirect" title="PLO">PLO</a> and their allies from 1967 to 1970.</p>
                        <p>Following the 1967 <a href="https://en.wikipedia.org/wiki/Six-Day_War" title="Six-Day War">Six-Day War</a>, no serious diplomatic efforts tried to resolve the issues at the heart of the <a href="https://en.wikipedia.org/wiki/Arab%E2%80%93Israeli_conflict" title="Arab–Israeli conflict">Arab–Israeli conflict</a>. In September 1967, the Arab states formulated the "<a href="https://en.wikipedia.org/wiki/Khartoum_Resolution" title="Khartoum Resolution">three nos</a>" policy, barring peace, recognition or negotiations with Israel. Egyptian President <a href="https://en.wikipedia.org/wiki/Gamal_Abdel_Nasser" title="Gamal Abdel Nasser">Gamal Abdel Nasser</a> believed that only military initiative would compel Israel or the <a href="https://en.wikipedia.org/wiki/International_community" title="International community">international community</a> to facilitate a full Israeli withdrawal from <a href="https://en.wikipedia.org/wiki/Sinai" class="mw-redirect" title="Sinai">Sinai</a>,<sup id="cite_ref-dunstan_17-0" class="reference"><a href="#cite_note-dunstan-17">[17]</a></sup><sup id="cite_ref-18" class="reference"><a href="#cite_note-18">[18]</a></sup> and hostilities soon resumed along the <a href="https://en.wikipedia.org/wiki/Suez_Canal" title="Suez Canal">Suez Canal</a>.</p>
                        <table style="width:100%;margin:0;padding:0;border:0">
                            <tr>
                                <th style="padding-right:1em" valign="top">Date</th>
                                <td>July 1, 1967 – August 7, 1970 (<a href="https://en.wikipedia.org/wiki/Ceasefire" title="Ceasefire">ceasefire</a>)<br />
                                    (3&#160;years, 1&#160;month and 6&#160;days)</td>
                            </tr>
                            <tr>
                                <th style="padding-right:1em" valign="top">Location</th>
                                <td><span class="location"><a href="https://en.wikipedia.org/wiki/Sinai_Peninsula" title="Sinai Peninsula">Sinai Peninsula</a> (Israeli control)</span></td>
                            </tr>
                            <tr>
                                <th style="padding-right:1em" valign="top">Result</th>
                                <td>
                                    <p>Egyptian front:</p>
                                    <ul>
                                        <li>Inconclusive (both sides claim victory)</li>
                                        <li>Continued Israeli control of <a href="https://en.wikipedia.org/wiki/Sinai" class="mw-redirect" title="Sinai">Sinai</a></li>
                                        <li>Creation of the <a href="https://en.wikipedia.org/wiki/Bar_Lev_Line" title="Bar Lev Line">Bar Lev Line</a></li>
                                    </ul>
                                    <p>Jordanian front:</p>
                                    <ul>
                                        <li>Inconclusive (both sides claim victory)</li>
                                        <li><a href="https://en.wikipedia.org/wiki/Black_September" title="Black September">Black September</a></li>
                                    </ul>
                                </td>
                            </tr>
                        </table>

                    </div>
                    <div data-time="1973" class="ovrflw">
                        <p>The <b>Yom Kippur War</b>, <b>Ramadan War</b>, or <b>October War</b> (<a href="https://en.wikipedia.org/wiki/Hebrew_language" title="Hebrew language">Hebrew</a>: <span lang="he" dir="rtl">מלחמת יום הכיפורים</span>‎‎, <i><span title="Hebrew transliteration" class="Unicode" style="white-space:normal; text-decoration: none">Milẖemet Yom HaKipurim</span></i>, or מלחמת יום כיפור<i>, <span title="Hebrew transliteration" class="Unicode" style="white-space:normal; text-decoration: none">Milẖemet Yom Kipur</span></i>; <a href="https://en.wikipedia.org/wiki/Arabic_language" class="mw-redirect" title="Arabic language">Arabic</a>: <span lang="ar" dir="rtl">حرب أكتوبر</span>‎‎, <i><span title="DIN 31635 Arabic" class="Unicode" style="white-space:normal; text-decoration: none">Ḥarb ʾUktōbar</span></i>, or <span lang="ar">حرب تشرين</span>, <i><span title="DIN 31635 Arabic" class="Unicode" style="white-space:normal; text-decoration: none">Ḥarb Tišrīn</span></i>), also known as the <b>1973 Arab–Israeli War</b>, was a war fought by a coalition of Arab states led by <a href="https://en.wikipedia.org/wiki/Egypt" title="Egypt">Egypt</a> and <a href="https://en.wikipedia.org/wiki/Syria" title="Syria">Syria</a> against <a href="https://en.wikipedia.org/wiki/Israel" title="Israel">Israel</a> from October 6 to 25, 1973. The fighting mostly took place in the <a href="https://en.wikipedia.org/wiki/Sinai" class="mw-redirect" title="Sinai">Sinai</a> and the <a href="https://en.wikipedia.org/wiki/Golan_Heights" title="Golan Heights">Golan Heights</a>, territories that had been occupied by Israel since the <a href="https://en.wikipedia.org/wiki/Six-Day_War" title="Six-Day War">Six-Day War</a> of 1967. <a href="https://en.wikipedia.org/wiki/President_of_Egypt" title="President of Egypt">Egyptian President</a> <a href="https://en.wikipedia.org/wiki/Anwar_Sadat" title="Anwar Sadat">Anwar Sadat</a> wanted also to reopen the <a href="https://en.wikipedia.org/wiki/Suez_Canal" title="Suez Canal">Suez Canal</a>. Neither specifically planned to destroy Israel, although the Israeli leaders could not be sure of that.</p>
                        <table style="width:100%;margin:0;padding:0;border:0">
                            <tr>
                                <th style="padding-right:1em" valign="top">Date</th>
                                <td>October 6–25, 1973</td>
                            </tr>
                            <tr>
                                <th style="padding-right:1em" valign="top">Location</th>
                                <td><span class="location">Both banks of the <a href="https://en.wikipedia.org/wiki/Suez_Canal" title="Suez Canal">Suez Canal</a>, <a href="https://en.wikipedia.org/wiki/Golan_Heights" title="Golan Heights">Golan Heights</a> and surrounding regions</span></td>
                            </tr>
                            <tr>
                                <th style="padding-right:1em" valign="top">Result</th>
                                <td>
                                    <p>Israeli military victory<sup id="cite_ref-21" class="reference"><a href="#cite_note-21">[21]</a></sup></p>
                                    <ul>
                                        <li>Political gains for Egypt and Israel<sup id="cite_ref-22" class="reference"><a href="#cite_note-22">[22]</a></sup></li>
                                        <li>1978 Camp David Accords</li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <th style="padding-right:1em" valign="top">Territorial<br />
                                    changes</th>
                                <td>
                                    <div>
                                        <ul>
                                            <li>The Egyptian army occupied the eastern coast of the <a href="https://en.wikipedia.org/wiki/Suez_Canal" title="Suez Canal">Suez Canal</a> with the exception of the Israeli crossing point near <a href="https://en.wikipedia.org/wiki/Deversoir_Air_Base" title="Deversoir Air Base">Deversoir</a>.<sup id="cite_ref-Morris2011p437_23-0" class="reference"><a href="#cite_note-Morris2011p437-23">[23]</a></sup></li>
                                            <li>The Israeli army occupied sixteen hundred square kilometers of territory on the southwestern coast of the <a href="https://en.wikipedia.org/wiki/Suez_Canal" title="Suez Canal">Suez Canal</a>, within 100 km from Cairo, and encircled an Egyptian enclave in the east bank<sup id="cite_ref-Morris2011p437_23-1" class="reference"><a href="#cite_note-Morris2011p437-23">[23]</a></sup></li>
                                            <li>The Israeli army occupied five hundred square kilometers of the Syrian Bashan, on top of the <a href="https://en.wikipedia.org/wiki/Golan_Heights" title="Golan Heights">Golan Heights</a>, which brought it within 20 miles of <a href="https://en.wikipedia.org/wiki/Damascus" title="Damascus">Damascus</a>.<sup id="cite_ref-Morris2011p433_24-0" class="reference"><a href="#cite_note-Morris2011p433-24">[24]</a></sup></li>
                                        </ul>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div data-time="1982" class="ovrflw">
                        <p>The <b>1982 Lebanon War</b> (<a href="https://en.wikipedia.org/wiki/Hebrew_language" title="Hebrew language">Hebrew</a>: <span lang="he" dir="rtl" xml:lang="he">מלחמת לבנון הראשונה</span>‎‎, <i>Milhemet Levanon Harishona</i>, "the first Lebanon war")—called <b>Operation Peace for Galilee</b> (<a href="https://en.wikipedia.org/wiki/Hebrew_language" title="Hebrew language">Hebrew</a>: <span lang="he" dir="rtl" xml:lang="he">מבצע שלום הגליל, or מבצע של"ג</span>‎‎ <i>Mivtsa Shlom HaGalil</i> or <i>Mivtsa Sheleg</i>;by Israel, and later known in Israel as the <b>Lebanon War</b> and <b>First Lebanon War</b>, and <a href="https://en.wikipedia.org/wiki/Arabic_language" class="mw-redirect" title="Arabic language">Arabic</a>: <span lang="ar" dir="rtl" xml:lang="ar">الاجتياح</span>‎‎, <i>Al-ijtiyāḥ</i>, "the invasion") by the Arabs—began on 6 June 1982, when the <a href="https://en.wikipedia.org/wiki/Israel_Defense_Forces" title="Israel Defense Forces">Israel Defense Forces</a> (IDF) invaded <a href="https://en.wikipedia.org/wiki/Southern_Lebanon" title="Southern Lebanon">southern Lebanon</a>, after repeated attacks and counter-attacks between the <a href="https://en.wikipedia.org/wiki/Palestine_Liberation_Organization" title="Palestine Liberation Organization">Palestine Liberation Organization</a> (PLO) operating in southern Lebanon and the IDF that had caused civilian casualties on both sides of the border. The military operation was launched after <a href="https://en.wikipedia.org/wiki/Abu_Nidal_Organization" title="Abu Nidal Organization">gunmen from Abu Nidal's organization</a> attempted to assassinate <a href="https://en.wikipedia.org/wiki/Shlomo_Argov" title="Shlomo Argov">Shlomo Argov</a>, Israel's ambassador to the United Kingdom. Israeli Prime Minister <a href="https://en.wikipedia.org/wiki/Menachem_Begin" title="Menachem Begin">Menachem Begin</a> blamed Abu Nidal's enemy, the PLO, for the incident, and treated the incident as a <i><a href="https://en.wikipedia.org/wiki/Casus_belli" title="Casus belli">casus belli</a></i> for the invasion.</p>
                        <table style="width:100%;margin:0;padding:0;border:0">
                            <tr>
                                <th style="padding-right:1em" valign="top">Date</th>
                                <td>6 June 1982 – June 1985<br />
                                    <small>(main phase June–September 1982)</small></td>
                            </tr>
                            <tr><br></tr>
                            <tr>
                                <th style="padding-right:1em" valign="top">Location</th>
                                <td><span class="location">Southern <a href="https://en.wikipedia.org/wiki/Lebanon" title="Lebanon">Lebanon</a></span></td>
                            </tr>
                            <tr><br></tr>
                            <tr>
                                <th style="padding-right:1em" valign="top">Result</th>
                                <td>
                                    <p>Israeli tactical victories but overall strategic failure.</a></sup><br />
                                        Syrian political advantage</p>
                                    <ul>
                                        <li><a href="https://en.wikipedia.org/wiki/Palestine_Liberation_Organization" title="Palestine Liberation Organization">PLO</a> expulsion from Lebanon<sup id="cite_ref-9" class="reference"><a href="#cite_note-9">[9]</a></sup></li>
                                        <li>Collapse of <a href="https://en.wikipedia.org/wiki/Maronite" class="mw-redirect" title="Maronite">Maronite</a>-Israeli alliance, failure to achieve Lebanese-Israeli peace<sup id="cite_ref-Morrisp559_10-0" class="reference"><a href="#cite_note-Morrisp559-10">[10]</a></sup></li>
                                        <li>Increased Syrian influence in Lebanon</li>
                                        <li>Israeli withdrawal to the <a href="https://en.wikipedia.org/wiki/Israeli_occupation_of_Southern_Lebanon" title="Israeli occupation of Southern Lebanon">Israeli security zone</a> in Southern Lebanon</li>
                                        <li><a href="https://en.wikipedia.org/wiki/South_Lebanon_conflict_(1982%E2%80%932000)" class="mw-redirect" title="South Lebanon conflict (1982–2000)">Continued conflict</a> between Israel &amp; <a href="https://en.wikipedia.org/wiki/South_Lebanon_Army" title="South Lebanon Army">SLA</a> vs <a href="https://en.wikipedia.org/wiki/Hezbollah" title="Hezbollah">Hezbollah</a> over South Lebanon</li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <th style="padding-right:1em" valign="top">Territorial<br />
                                    changes</th>
                                <td>Self-proclaimed <a href="https://en.wikipedia.org/wiki/Free_Lebanon_State" title="Free Lebanon State">Free Lebanon State</a> slowly transforms into <a href="https://en.wikipedia.org/wiki/South_Lebanon_security_belt" class="mw-redirect" title="South Lebanon security belt">South Lebanon Security Zone</a></td>
                            </tr>
                        </table>
                    </div>
                    <div data-time="1987" class="ovrflw">
                        <p>The <b>First Intifada</b> or <b>First Palestinian Intifada</b> (also known simply as "the intifada" or "intifadah"<sup class="reference plainlinks nourlexpansion" id="ref_A"><a href="#endnote_A">[note A]</a></sup>) was a <a href="https://en.wikipedia.org/wiki/Palestinian_people" class="mw-redirect" title="Palestinian people">Palestinian</a> <a href="https://en.wikipedia.org/wiki/Rebellion" title="Rebellion">uprising</a> against the <a href="https://en.wikipedia.org/wiki/Israel" title="Israel">Israeli</a> <a href="https://en.wikipedia.org/wiki/Israeli_Civil_Administration" title="Israeli Civil Administration">occupation</a> of the <a href="https://en.wikipedia.org/wiki/West_Bank" title="West Bank">West Bank</a> and <a href="https://en.wikipedia.org/wiki/Gaza_Strip" title="Gaza Strip">Gaza</a>.<sup id="cite_ref-LockmanBeinin1989_5_6-0" class="reference"><a href="#cite_note-LockmanBeinin1989_5-6">[6]</a></sup> The uprising lasted from December 1987 until the <a href="https://en.wikipedia.org/wiki/Madrid_Conference" class="mw-redirect" title="Madrid Conference">Madrid Conference</a> in 1991, though some date its conclusion to 1993, with the signing of the <a href="https://en.wikipedia.org/wiki/Oslo_Accords" title="Oslo Accords">Oslo Accords</a>.</p>
                        <table style="width:100%;margin:0;padding:0;border:0">
                            <tr>
                                <th style="padding-right:1em" valign="top">Date</th>
                                <td>8 December 1987 – 13 September 1993<br />
                                    (5&#160;years, 9&#160;months and 5&#160;days)</td>
                            </tr>
                            <tr>
                                <th style="padding-right:1em" valign="top">Location</th>
                                <td>
                                    <div class="hlist hlist-separated">
                                        <ul>
                                            <li><span class="location"><a href="https://en.wikipedia.org/wiki/West_Bank" title="West Bank">West Bank</a></span></li>
                                            <li><span class="location"><a href="https://en.wikipedia.org/wiki/Gaza_Strip" title="Gaza Strip">Gaza Strip</a></span></li>
                                            <li><span class="location"><a href="https://en.wikipedia.org/wiki/Israel" title="Israel">Israel</a></span></li>
                                        </ul>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th style="padding-right:1em" valign="top">Result</th>
                                <td>
                                    <p>Palestinian popular uprising suppressed</p>
                                    <ul>
                                        <li><a href="https://en.wikipedia.org/wiki/Madrid_Conference_of_1991" title="Madrid Conference of 1991">Madrid Conference of 1991</a> and eventually <a href="https://en.wikipedia.org/wiki/Oslo_I_Accord" title="Oslo I Accord">Oslo I Accord</a>:</li>
                                        <li><span class="nowrap">Establishment of the <a href="https://en.wikipedia.org/wiki/Palestinian_Authority" class="mw-redirect" title="Palestinian Authority">Palestinian Authority</a></span></li>
                                        <li>The <a href="https://en.wikipedia.org/wiki/Palestine_Liberation_Organization" title="Palestine Liberation Organization">PLO</a> recognizes <a href="https://en.wikipedia.org/wiki/Israel" title="Israel">Israel</a></li>
                                    </ul>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div data-time="2000" class="ovrflw">
                        <p>The <b>Second Intifada</b>, also known as the <b>Al-Aqsa Intifada</b> (<a href="https://en.wikipedia.org/wiki/Arabic_language" class="mw-redirect" title="Arabic language">Arabic</a>: <span lang="ar" dir="rtl">انتفاضة الأقصى</span>‎‎ <i><span title="DIN 31635 Arabic" class="Unicode" style="white-space:normal; text-decoration: none">Intifāḍat al-ʾAqṣā</span></i>; <a href="https://en.wikipedia.org/wiki/Hebrew_language" title="Hebrew language">Hebrew</a>: <span lang="he" dir="rtl">אינתיפאדת אל-אקצה</span>‎‎ <i>Intifādat El-Aqtzah</i>), was the second Palestinian <a href="https://en.wikipedia.org/wiki/Uprising" class="mw-redirect" title="Uprising">uprising</a> against Israel – a period of intensified <a href="https://en.wikipedia.org/wiki/Israeli%E2%80%93Palestinian_conflict" title="Israeli–Palestinian conflict">Israeli–Palestinian</a> violence. It started in September 2000, when <a href="https://en.wikipedia.org/wiki/Ariel_Sharon" title="Ariel Sharon">Ariel Sharon</a> made a visit to the <a href="https://en.wikipedia.org/wiki/Temple_Mount" title="Temple Mount">Temple Mount</a>, seen by <a href="https://en.wikipedia.org/wiki/Palestinians" title="Palestinians">Palestinians</a> as highly provocative; and Palestinian demonstrators, throwing stones at police, were dispersed by the <a href="https://en.wikipedia.org/wiki/Israeli_army" class="mw-redirect" title="Israeli army">Israeli army</a>, using <a href="https://en.wikipedia.org/wiki/Tear_gas" title="Tear gas">tear gas</a> and <a href="https://en.wikipedia.org/wiki/Rubber_bullet" title="Rubber bullet">rubber bullets</a>.</p>
                        <table style="width:100%;margin:0;padding:0;border:0">
                            <tr>
                                <th style="padding-right:1em">Date</th>
                                <td>28 September 2000 – 8 February 2005<br />
                                    (4&#160;years, 4&#160;months, 1&#160;week and 4&#160;days)</td>
                            </tr>
                            <tr>
                                <th style="padding-right:1em">Location</th>
                                <td><span class="location"><a href="https://en.wikipedia.org/wiki/Palestinian_Authority" class="mw-redirect" title="Palestinian Authority">Palestinian Authority</a>, <a href="https://en.wikipedia.org/wiki/Israel" title="Israel">Israel</a></span></td>
                            </tr>
                            <tr>
                                <th style="padding-right:1em">Result</th>
                                <td>
                                    <p>Uprising suppressed</p>
                                    <ul>
                                        <li><a href="https://en.wikipedia.org/wiki/Israeli_West_Bank_barrier" title="Israeli West Bank barrier">Construction of the Israeli West Bank barrier</a></li>
                                        <li>Decrease of violence in the <a href="https://en.wikipedia.org/wiki/West_Bank" title="West Bank">West Bank</a></li>
                                        <li><a href="https://en.wikipedia.org/wiki/Israel%27s_unilateral_disengagement_plan" class="mw-redirect" title="Israel's unilateral disengagement plan">Israeli withdrawal from the Gaza Strip</a></li>
                                    </ul>
                                </td>
                            </tr>
                        </table>
                    </div >
                    <div data-time="2006" class="ovrflw">
                        <p>The <b>2006 Lebanon War</b>, also called the <b>2006 Israel–Hezbollah War</b> and known in <a href="https://en.wikipedia.org/wiki/Lebanon" title="Lebanon">Lebanon</a> as the <b>July War</b> (<a href="https://en.wikipedia.org/wiki/Arabic_language" class="mw-redirect" title="Arabic language">Arabic</a>: <span lang="ar" dir="rtl" xml:lang="ar">حرب تموز</span>‎‎, <i>Ḥarb <a href="https://en.wikipedia.org/wiki/Tammuz_(Hebrew_month)#Other_uses" title="Tammuz (Hebrew month)">Tammūz</a></i>) and in <a href="https://en.wikipedia.org/wiki/Israel" title="Israel">Israel</a> as the <b>Second Lebanon War</b> (<a href="https://en.wikipedia.org/wiki/Hebrew_language" title="Hebrew language">Hebrew</a>: <span lang="he" dir="rtl" xml:lang="he">מלחמת לבנון השנייה</span>‎‎, <i>Milhemet Levanon HaShniya</i>),<sup id="cite_ref-52" class="reference"><a href="#cite_note-52">[52]</a></sup> was a 34-day <a href="https://en.wikipedia.org/wiki/War" title="War">military conflict</a> in Lebanon, Northern Israel and the <a href="https://en.wikipedia.org/wiki/Golan_Heights" title="Golan Heights">Golan Heights</a>. The principal parties were <a href="https://en.wikipedia.org/wiki/Hezbollah" title="Hezbollah">Hezbollah</a> paramilitary forces and the <a href="https://en.wikipedia.org/wiki/Israel_Defense_Forces" title="Israel Defense Forces">Israel Defense Forces</a> (IDF). The conflict started on 12 July 2006, and continued until a United Nations-brokered <a href="https://en.wikipedia.org/wiki/Ceasefire" title="Ceasefire">ceasefire</a> went into effect in the morning on 14 August 2006, though it formally ended on 8 September 2006 when Israel lifted its naval <a href="https://en.wikipedia.org/wiki/Blockade" title="Blockade">blockade</a> of Lebanon. Due to unprecedented Iranian military support to Hezbollah before and during the war, some consider it the first round of the <a href="https://en.wikipedia.org/wiki/Iran%E2%80%93Israel_proxy_conflict" title="Iran–Israel proxy conflict">Iran–Israel proxy conflict</a>, rather than a continuation of the <a href="https://en.wikipedia.org/wiki/Arab%E2%80%93Israeli_conflict" title="Arab–Israeli conflict">Arab–Israeli conflict</a>.</p>
                        <table style="width:100%;margin:0;padding:0;border:0">
                            <tr>
                                <th style="padding-right:1em">Date</th>
                                <td>12 July – 14 August 2006<br />
                                    <small>(Israeli blockade of Lebanon ended on 8 September 2006)</small></td>
                            </tr>
                            <tr>
                                <th style="padding-right:1em">Location</th>
                                <td><span class="location"><a href="https://en.wikipedia.org/wiki/Lebanon" title="Lebanon">Lebanon</a>, Northern <a href="https://en.wikipedia.org/wiki/Israel" title="Israel">Israel</a> and the <a href="https://en.wikipedia.org/wiki/Golan_Heights" title="Golan Heights">Golan Heights</a><sup id="cite_ref-7" class="reference"><a href="#cite_note-7">[7]</a></sup></span></td>
                            </tr>
                            <tr>
                                <th style="padding-right:1em">Result</th>
                                <td>
                                    <p>Stalemate,<sup id="cite_ref-8" class="reference"><a href="#cite_note-8">[8]</a></sup> both sides claim victory<sup id="cite_ref-foxnews-victory_9-0" class="reference"><a href="#cite_note-foxnews-victory-9">[9]</a></sup><sup id="cite_ref-jewishvirtuallibrary-victory_10-0" class="reference"><a href="#cite_note-jewishvirtuallibrary-victory-10">[10]</a></sup></p>
                                    <ul>
                                        <li><a href="https://en.wikipedia.org/wiki/Ceasefire" title="Ceasefire">Ceasefire</a> through <a href="https://en.wikipedia.org/wiki/United_Nations_Security_Council_Resolution_1701" title="United Nations Security Council Resolution 1701">UNSC Resolution 1701</a></li>
                                        <li>The <a href="https://en.wikipedia.org/wiki/Lebanese_Army" class="mw-redirect" title="Lebanese Army">Lebanese Army</a> is introduced into South Lebanon and <a href="https://en.wikipedia.org/wiki/UNIFIL" class="mw-redirect" title="UNIFIL">UNIFIL</a> deployments reinforced</li>
                                    </ul>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div data-time="2008" class="ovrflw">
                        <p>The <b>Gaza War</b>, also known as <b>Operation Cast Lead</b> (<span lang="he" dir="rtl" xml:lang="he">מִבְצָע עוֹפֶרֶת יְצוּקָה</span>‎), also known as the <b>Gaza Massacre</b> (<span lang="ar" dir="rtl" xml:lang="ar">مجزرة غزة</span>‎) and the <b>Battle of al-Furqan</b> (<span lang="ar" dir="rtl" xml:lang="ar">معركة الفرقان</span>‎) by Hamas, was a three-week armed conflict between Palestinians in the <a href="https://en.wikipedia.org/wiki/Gaza_Strip" title="Gaza Strip">Gaza Strip</a> and <a href="https://en.wikipedia.org/wiki/Israel" title="Israel">Israel</a> that <a href="https://en.wikipedia.org/wiki/Timeline_of_the_2008%E2%80%932009_Israel%E2%80%93Gaza_conflict#27_December_2008" class="mw-redirect" title="Timeline of the 2008–2009 Israel–Gaza conflict">began</a> on 27 December 2008 and ended on 18 January 2009 in a unilateral ceasefire.</p>
                        <table style="width:100%;margin:0;padding:0;border:0">
                            <tr>
                                <th style="padding-right:1em">Date</th>
                                <td>27 December 2008 – 18 January 2009<br />
                                    (3&#160;weeks and 1&#160;day)</td>
                            </tr>
                            <tr>
                                <th style="padding-right:1em">Location</th>
                                <td><span class="location"><a href="https://en.wikipedia.org/wiki/Gaza_Strip" title="Gaza Strip">Gaza Strip</a> and <a href="https://en.wikipedia.org/wiki/Southern_District_(Israel)" title="Southern District (Israel)">Southern Israel</a></span></td>
                            </tr>
                            <tr>
                                <th style="padding-right:1em">Result</th>
                                <td>
                                    <p>Israeli military victory</p>
                                    <ul>
                                        <li>Israel declared <a href="https://en.wikipedia.org/wiki/Unilateral" class="mw-redirect" title="Unilateral">unilateral</a> ceasefire, 12 hours later Hamas announced a <a href="https://en.wikipedia.org/wiki/Tahdiya" title="Tahdiya">one-week ceasefire</a>.<sup id="cite_ref-xinhua_one_week_6-0" class="reference"><a href="#cite_note-xinhua_one_week-6">[6]</a></sup><sup id="cite_ref-cbc.ca_one_week_7-0" class="reference"><a href="#cite_note-cbc.ca_one_week-7">[7]</a></sup></li>
                                        <li><a href="https://en.wikipedia.org/wiki/Effects_of_the_Gaza_War#Gaza_humanitarian_crisis" class="mw-redirect" title="Effects of the Gaza War">Humanitarian crisis</a> and deterioration of infrastructure and basic services in Gaza.<sup id="cite_ref-ocha_report_1_2_8-0" class="reference"><a href="#cite_note-ocha_report_1_2-8">[8]</a></sup></li>
                                        <li>Number of <a href="https://en.wikipedia.org/wiki/List_of_Palestinian_rocket_attacks_on_Israel,_2009" title="List of Palestinian rocket attacks on Israel, 2009">rockets</a> being fired from Gaza reduced.</li>
                                        <li><a href="https://en.wikipedia.org/wiki/Gaza_War_(2008%E2%80%9309)#Post-war_military_assessment" title="Gaza War (2008–09)">See results</a></li>
                                    </ul>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div data-time="2012" class="ovrflw">
                        <p><b>Operation Pillar of Defense</b> (<a href="https://en.wikipedia.org/wiki/Hebrew_language" title="Hebrew language">Hebrew</a>: <span class="script-hebrew" style="font-size: 115%; font-family: Alef, 'SBL BibLit', 'SBL Hebrew', 'David CLM', 'Frenk Ruehl CLM', 'Hadasim CLM', Cardo, Shofar, David, 'Ezra SIL', 'Ezra SIL SR', 'Noto Sans Hebrew', FreeSerif, 'Times New Roman', FreeSans, Arial;" dir="rtl">עַמּוּד עָנָן</span>‎, <i>ʿAmúd ʿAnán</i>, literally: "<a href="https://en.wikipedia.org/wiki/Pillar_of_Cloud" title="Pillar of Cloud">Pillar of Cloud</a>")<sup id="cite_ref-inn_22-0" class="reference"><a href="#cite_note-inn-22">[22]</a></sup> was an eight-day <a href="https://en.wikipedia.org/wiki/Israel_Defense_Forces" title="Israel Defense Forces">Israel Defense Forces</a> (IDF) operation in the <a href="https://en.wikipedia.org/wiki/Governance_of_the_Gaza_Strip" title="Governance of the Gaza Strip">Hamas-governed</a> <a href="https://en.wikipedia.org/wiki/Gaza_Strip" title="Gaza Strip">Gaza Strip</a>, which began on 14 November 2012 with the killing, of <a href="https://en.wikipedia.org/wiki/Ahmed_Jabari" title="Ahmed Jabari">Ahmed Jabari</a>, chief of the Gaza military wing of <a href="https://en.wikipedia.org/wiki/Hamas" title="Hamas">Hamas</a> by an Israeli airstrike.</p>
                        <table style="width:100%;margin:0;padding:0;border:0">
                            <tr>
                                <th style="padding-right:1em" valign="top">Date</th>
                                <td>14–21 November 2012<br />
                                    (1&#160;week)</td>
                            </tr>
                            <tr>
                                <th style="padding-right:1em" valign="top">Location</th>
                                <td><span class="location"><span class="flagicon"><a href="https://en.wikipedia.org/wiki/Gaza_Strip" title="Gaza Strip"></a></span>Palestinian Authority, Israel</span></td>
                            </tr>
                            <tr>
                                <th style="padding-right:1em" valign="top">Result</th>
                                <td>
                                    <p><a href="https://en.wikipedia.org/wiki/Ceasefire" title="Ceasefire">Ceasefire</a>, both sides claim victory</p>
                                    <ul>
                                        <li>According to Israel, the operation "severely impaired Hamas's launching capabilities."</li>
                                        <li>According to Hamas, their rocket strikes led to the ceasefire deal</li>
                                        <li>Cessation of rocket fire from Gaza into Israel.</li>
                                        <li>Gaza fishermen allowed 6 nautical miles (11&#160;km; 6.9&#160;mi) out to sea for fishing; reduced back to 3 nautical miles (5.6&#160;km; 3.5&#160;mi) after 22 March 2013</li>
                                    </ul>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div data-time="2014" class="ovrflw">
                        <p>The <b>2014 Israel–Gaza conflict</b> also known as <b>Operation Protective Edge</b> (<a href="https://en.wikipedia.org/wiki/Hebrew_language" title="Hebrew language">Hebrew</a>: <span class="script-hebrew" style="font-size: 115%; font-family: Alef, 'SBL BibLit', 'SBL Hebrew', 'David CLM', 'Frenk Ruehl CLM', 'Hadasim CLM', Cardo, Shofar, David, 'Ezra SIL', 'Ezra SIL SR', 'Noto Sans Hebrew', FreeSerif, 'Times New Roman', FreeSans, Arial;" dir="rtl">מִבְצָע צוּק אֵיתָן</span>‎, <i>Miv'tza Tzuk Eitan</i>, lit. "Operation Strong Cliff") and sometimes referred to as the <b>2014 Gaza war</b>, was a military operation launched by <a href="https://en.wikipedia.org/wiki/Israel" title="Israel">Israel</a> on 8 July 2014 in the <a href="https://en.wikipedia.org/wiki/Governance_of_the_Gaza_Strip" title="Governance of the Gaza Strip">Hamas-ruled</a> <a href="https://en.wikipedia.org/wiki/Gaza_Strip" title="Gaza Strip">Gaza Strip</a>.<sup id="cite_ref-36" class="reference"><a href="#cite_note-36">[note 5]</a></sup> Following the <a href="https://en.wikipedia.org/wiki/2014_kidnapping_and_murder_of_Israeli_teenagers" title="2014 kidnapping and murder of Israeli teenagers">kidnapping and murder of three Israeli teenagers</a> by Hamas members, the <a href="https://en.wikipedia.org/wiki/Israel_Defense_Forces" title="Israel Defense Forces">IDF</a> conducted <i>Operation Brother's Keeper</i> to arrest militant leaders, <a href="https://en.wikipedia.org/wiki/Hamas" title="Hamas">Hamas</a> <a href="https://en.wikipedia.org/wiki/List_of_Palestinian_rocket_attacks_on_Israel,_2014" title="List of Palestinian rocket attacks on Israel, 2014">fired rockets</a> into Israel and a seven-week conflict broke out. The <a href="https://en.wikipedia.org/wiki/List_of_Israeli_strikes_and_Palestinian_casualties_in_the_2014_Israel%E2%80%93Gaza_conflict" title="List of Israeli strikes and Palestinian casualties in the 2014 Israel–Gaza conflict">Israeli strikes</a>, the Palestinian rocket attacks and the ground fighting resulted in the death of thousands of people, the vast majority of them Gazans.</p>
                        <table style="width:100%;margin:0;padding:0;border:0">
                            <tr>
                                <th style="padding-right:1em">Date</th>
                                <td>8 July – 26 August 2014 (7 weeks)</td>
                            </tr>
                            <tr>
                                <th style="padding-right:1em">Location</th>
                                <td><span class="location"><a href="https://en.wikipedia.org/wiki/Gaza_Strip" title="Gaza Strip">Gaza Strip</a><br /><a href="https://en.wikipedia.org/wiki/Israel" title="Israel">Israel</a></span></td>
                            </tr>
                            <tr>
                                <th style="padding-right:1em">Result</th>
                                <td>
                                    <p><a href="https://en.wikipedia.org/wiki/Victory" title="Victory">Victory</a> claimed by both sides</p>
                                    <ul>
                                        <li>According to Israel and Palestinian president Abbas, Hamas was severely weakened and achieved none of its demands</li>
                                        <li>According to Hamas, Israel was repelled from Gaza</li>
                                    </ul>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <br><br>
        <h2>What kind data you want to check out on this fine day..</h2>
        <ul class="pagination col-sm-12">
            <li class="listItem active" data-interest="science_education"><a href="#">Show Science / Education Data</a></li>
            <li class="listItem" data-interest="financial"><a href="#">Show Financial Data</a></li>
            <li class="listItem" data-interest="population"><a href="#">Show Population Data</a></li>
            <li class="listItem" data-interest="military"><a href="#">Show Military Data</a></li>
        </ul>

        <br><br>
        <br><br><br>
        <div class="loader"></div>

        <div class="col-sm-12" id="graphs_container">

        </div>

    </div>




    <script>

//        var hostAddr = '188.120.132.252:5000';
        var hostAddr = 'localhost:5000';
//        $(document).ready(function() {
//            $("#my_audio").get(0).play();
//        });

        $('.listItem').click(function() {
            $('.listItem').removeClass('active');
            $(this).addClass('active');
            var data = $(this).data();
            switchFieldOfInterest(data.interest);
        });
        function switchFieldOfInterest(newInterest) {
            redrawingDueToChangeinField = true;
            currentFieldOfInterest = newInterest;
            lastCalledFunction();

        }

        var currentFieldOfInterest = "science_education";
        var lastCalledFunction;
        var redrawingDueToChangeinField = false;

        //  Map out the files
        var fieldToIndicatorsTxtMap = {};
        fieldToIndicatorsTxtMap['financial'] = "../metadata_indicators/financial.txt";
        fieldToIndicatorsTxtMap['military'] = "../metadata_indicators/military.txt";
        fieldToIndicatorsTxtMap['population'] = "../metadata_indicators/population.txt";
        fieldToIndicatorsTxtMap['science_education'] = "../metadata_indicators/science_education.txt";

        var YearSelected = 1967;

        function getIndicatorsByFieldOfInterest(field) {
            var indicators = returnTextFileLines(fieldToIndicatorsTxtMap[field]);
            return indicators;
        }

        function CSVtoArray(text) {
            var re_valid = /^\s*(?:'[^'\\]*(?:\\[\S\s][^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*"|[^,'"\s\\]*(?:\s+[^,'"\s\\]+)*)\s*(?:,\s*(?:'[^'\\]*(?:\\[\S\s][^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*"|[^,'"\s\\]*(?:\s+[^,'"\s\\]+)*)\s*)*$/;
            var re_value = /(?!\s*$)\s*(?:'([^'\\]*(?:\\[\S\s][^'\\]*)*)'|"([^"\\]*(?:\\[\S\s][^"\\]*)*)"|([^,'"\s\\]*(?:\s+[^,'"\s\\]+)*))\s*(?:,|$)/g;
            // Return NULL if input string is not well formed CSV string.
            if (!re_valid.test(text)) return null;
            var a = [];                     // Initialize array to receive values.
            text.replace(re_value, // "Walk" the string using replace with callback.
                    function(m0, m1, m2, m3) {
                        // Remove backslash from \' in single quoted values.
                        if      (m1 !== undefined) a.push(m1.replace(/\\'/g, "'"));
                        // Remove backslash from \" in double quoted values.
                        else if (m2 !== undefined) a.push(m2.replace(/\\"/g, '"'));
                        else if (m3 !== undefined) a.push(m3);
                        return ''; // Return empty string.
                    });
            // Handle special case of empty last value.
            if (/,\s*$/.test(text)) a.push('');
            return a;
        };

//        var indicatorInfoTxtLines = returnTextFileLines('/Dataset/Indicator.json');
        var request = new XMLHttpRequest();
        request.open("GET", "/Dataset/Indicator.json", false);
        request.send(null)
        var indicatorInfoJson = JSON.parse(request.responseText);


        function setSixDaysWar1967() {
            var start = 1965;
            var end = 1969;
            var selectedCountries = ['ISR','JOR','EGY','LBN','PSE'];
            YearSelected = 1967;
            onNewBarUpdateWithYears(start, end, selectedCountries);
            lastCalledFunction = setSixDaysWar1967;
        }

        function setWarOfAttrition1968() {
            var start = 1967;
            var end = 1970;
            var selectedCountries = ['ISR','JOR','EGY','LBN','PSE'];
            YearSelected = 1968;
            onNewBarUpdateWithYears(start, end, selectedCountries);
            lastCalledFunction = setWarOfAttrition1968;
        }

        function setWarOfYomKipur1973() {
            var start = 1971;
            var end = 1975;
            var selectedCountries = ['ISR','JOR','EGY','LBN','PSE'];
            YearSelected = 1973;
            onNewBarUpdateWithYears(start, end, selectedCountries);
            lastCalledFunction = setWarOfYomKipur1973;
        }

        function setLebanonWar1982() {
            var start = 1980;
            var end = 1984;
            var selectedCountries = ['ISR','JOR','EGY','LBN','PSE'];
            YearSelected = 1982;
            onNewBarUpdateWithYears(start, end, selectedCountries);
            lastCalledFunction = setLebanonWar1982;
        }

        function setFirstIntefada1987() {
            var start = 1985;
            var end = 1993;
            var selectedCountries = ['ISR','JOR','EGY','LBN','PSE'];
            YearSelected = 1987;
            onNewBarUpdateWithYears(start, end, selectedCountries);
            lastCalledFunction = setFirstIntefada1987;
        }

        function setSecondIntefada2000() {
            var start = 1998;
            var end = 2002;
            var selectedCountries = ['ISR','JOR','EGY','LBN','PSE'];
            YearSelected = 2000;
            onNewBarUpdateWithYears(start, end, selectedCountries);
            lastCalledFunction = setSecondIntefada2000;
        }

        function setSecondLebanonWar2006() {
            var start = 2004;
            var end = 2007;
            var selectedCountries = ['ISR','JOR','EGY','LBN','PSE'];
            YearSelected = 2006;
            onNewBarUpdateWithYears(start, end, selectedCountries);
            lastCalledFunction = setSecondLebanonWar2006;
        }

        function setGazaWar2008() {
            var start = 2007;
            var end = 2010;
            var selectedCountries = ['ISR','JOR','EGY','LBN','PSE'];
            YearSelected = 2008;
            onNewBarUpdateWithYears(start, end, selectedCountries);
            lastCalledFunction = setGazaWar2008;
        }

        function setOperationPillarOfDefense2012() {
            var start = 2011;
            var end = 2013;
            var selectedCountries = ['ISR','JOR','EGY','LBN','PSE'];
            YearSelected = 2012;
            onNewBarUpdateWithYears(start, end, selectedCountries);
            lastCalledFunction = setOperationPillarOfDefense2012;
        }

        function setOperationProtectiveEdge2014() {
            var start = 2013;
            var end = 2015;
            var selectedCountries = ['ISR','JOR','EGY','LBN','PSE'];
            YearSelected = 2014;
            onNewBarUpdateWithYears(start, end, selectedCountries);
            lastCalledFunction = setOperationProtectiveEdge2014;
        }

        function setUpListeners() {


            $('.js-timeline').Timeline();

            //        $( "#1947" ).click(function() {
            //            setArabIsraeliWar1948();
            //            alert('test');
            //        });
            //        $( "#1956" ).click(function() {
            //            setSuezCrisis1956();
            //        });
            $("#1967").click(function () {
                setSixDaysWar1967();
            });
            $("#1968").click(function () {
                setWarOfAttrition1968();
            });

            $("#1973").click(function () {
                setWarOfYomKipur1973();
            });

            $("#1982").click(function () {
                setLebanonWar1982();
            });

            $("#1987").click(function () {
                setFirstIntefada1987();
            });

            $("#2000").click(function () {
                setSecondIntefada2000();
            });

            $("#2006").click(function () {
                setSecondLebanonWar2006();
            });

            $("#2008").click(function () {
                setGazaWar2008();
            });

            $("#2012").click(function () {
                setOperationPillarOfDefense2012();
            });

            $("#2014").click(function () {
                setOperationProtectiveEdge2014();
            });
        }




        //  Deprecated..
        function buildJsonFromData(json2parse) {

            d3.select("svg").remove();
//            var start = document.getElementById('yearStart');
//            var end = document.getElementById('yearEnd');
//            var country = document.getElementById('Country');
            console.log('Start Year: ' + start.options[start.selectedIndex].value);
            console.log('End Year: ' + end.options[end.selectedIndex].value);

            var yearStart = start.options[start.selectedIndex].value;
            var yearEnd = end.options[end.selectedIndex].value;
//            var cntryName = country.options[country.selectedIndex].value;


            var parsedJson = [];


            console.log('Selected Countries:');
            for (i = 0; i < country.length; i++) {
                if (country.options[i].selected) {
                    selectedCountries.push(country.options[i].value);
                    console.log(country.options[i].value);
                }
            }

            console.log('Selected length: ' + selectedCountries.length);
            for (i = 0; i < selectedCountries.length; i++) {
                cntryName = selectedCountries[i];
                xhr = new XMLHttpRequest();
                reqStr = "http://" + hostAddr + "/getCountriesHiTechInfoLineCharted?country=" + cntryName + '&yearStart=' + yearStart + "&yearEnd=" + yearEnd;
                xhr.open("GET", reqStr, false);
                xhr.send();

                parsedJson = [];
                parsedJson.push(JSON.parse(xhr.response));

//            console.log(parsedJson);
                json2parse.push(parsedJson);
            }
        }

        function buildJsonFromDataWithoutOptions(json2parse, start, end, countries, indicator) {
            //d3.select("svg").remove();

            var yearStart = start;
            var yearEnd = end;
            var infoLabel = indicator;
            var parsedJson = [];
            var selectedCountries = [];

//            console.log('Selected Countries:');
            for (i = 0; i < countries.length; i++) {
                    selectedCountries.push(countries[i]);
//                    console.log('Countries in the conflict: ' + countries[i]);
            }

            for (i = 0; i < selectedCountries.length; i++) {
                cntryName = selectedCountries[i];
                xhr = new XMLHttpRequest();

                reqStr = "http://" + hostAddr + "/getCountriesHiTechInfoLineCharted?country=" + cntryName + '&yearStart=' + yearStart + "&yearEnd=" + yearEnd + "&infoLabel=" + infoLabel;
//                console.log(reqStr);
                xhr.open("GET", reqStr, false);

                xhr.onload = function (e) {
                    if (xhr.readyState === 4) {
                        if (xhr.status === 200) {
                            console.log(xhr.responseText);
                            parsedJson = [];
                            parsedJson.push(JSON.parse(xhr.response));
                            json2parse.push(parsedJson);
                        } else {
                            console.error(xhr.statusText);
                        }
                    }
                };
                xhr.onerror = function (e) {
                    console.error(xhr.statusText);
                };

//                xhr.withCredentials = false;
                xhr.send(null);

//                parsedJson = [];
//                parsedJson.push(JSON.parse(xhr.response));
//
////                console.log(parsedJson);
//                json2parse.push(parsedJson);
            }
        }

        function onLineUpdate() {
            var json2parse = [];

            buildJsonFromData(json2parse);

//            console.log(parsedJson);
//            json2parse.push(parsedJson);

            updateNew(json2parse, 'line');
        }

        function returnTextFileLines(file)
        {
            var indicators = [];
            var rawFile = new XMLHttpRequest();
            rawFile.open("GET", file, false);
            rawFile.onreadystatechange = function ()
            {
                if(rawFile.readyState === 4)
                {
                    if(rawFile.status === 200 || rawFile.status == 0)
                    {
                        var allText = rawFile.responseText;
                        var lines = allText.split('\n');
                        console.log("number of lines: " + lines.length)
                        for(var i = 0;i < lines.length;i++){
//                            console.log('eli: ' + lines[i])
                            indicators.push(lines[i]);
                        }
                    }
                }
            }
            rawFile.send(null);
            return indicators;
        }





        function showLoading() {
            $(".loader").show();
        }
        function clearLoading() {
            $(".loader").hide();
        }

        //  Called after the animation is done..!
        function removeAndRebuildGraphs(start, end, countries) {

            $(".graph").remove();
            var json2parse = [];
            //  Show the loading progress bar

//            indicators = getIndicatorsByFieldOfInterest('population');
            indicators = getIndicatorsByFieldOfInterest(currentFieldOfInterest);

            var chartIndex = 0;
            //  Some sweet lambda's..
            indicators.forEach( indicator => {
                var miniHeader = "";
                var explenation = "";
                console.log('indicator: ' + indicator);
                for(i = 0; i < indicatorInfoJson.length; i++){

                    if(0 == indicator.replace(/[\n\r]/g, '').localeCompare(indicatorInfoJson[i]["INDICATOR_CODE"])) {
                        miniHeader = indicatorInfoJson[i]["INDICATOR_NAME"];
                        explenation = indicatorInfoJson[i]["SOURCE_NOTE"];
                        break;
                    }
                }

                console.log('minHeader: ' + miniHeader + ' exp: ' + explenation + 'i: ' + i);


                buildJsonFromDataWithoutOptions(json2parse, start, end, countries, indicator);

                var chartId = 'chart' + chartIndex;
                updateNew(json2parse, 'line', chartId, miniHeader, explenation);
                chartIndex++;
            });

            clearLoading();
        }

        function onNewBarUpdateWithYears(start, end, countries) {


            $(".graph").removeClass('animated zoomIn');
            if(!redrawingDueToChangeinField) {
                if(lastYearSelected < YearSelected) {
                    $(".graph").addClass('animated bounceOutLeft');
                }
                else {
                    $(".graph").addClass('animated bounceOutRight');
                }
            }
            else {
                $(".graph").addClass('animated zoomOut');
                redrawingDueToChangeinField = false;
            }

            lastYearSelected = YearSelected;

            setTimeout(removeAndRebuildGraphs, 1000, start, end, countries);
            setTimeout(showLoading,600);
//            showLoading();

        }


        function animateEnterence(chartId) {
            $("#" + chartId).addClass('animated zoomIn');
//            $("#" + chartId).addClass('animated flip');
        }

        function updateNew(jsonToWorkWith, typeOfChart, chartId, miniHeader, explenation) {

            var xsData = {};
            //  Create an actual chart id with the # jquery id mark
            var actualChartId = '#' + chartId;
            var data2Gen = {bindto: actualChartId, data:{ xs: {}, columns: [], type: typeOfChart},axis: {
                y: {
                    min: 0
                }
            },
                subchart: {show: false}, zoom: {enabled: true}};

            var dataExists = false;
            for (i = 0; i < jsonToWorkWith.length; i++) {
                var countryName = '';

                var isrYears = ['Year'];
                var isrVals = [];

                var json2parse = jsonToWorkWith[i];

                console.log(json2parse[0]);

                json2parse.forEach(function (d) {
                    countryName = d.countryLabel;
                    isrVals.push(countryName);
                    d.x.forEach(function (j) {
                        if (typeof j === 'string') {
                            isrYears.push(parseInt(j));
                        }
                        else {
                            isrYears.push(j);
                        }
                    });
                    d.y.forEach(function (j) {
                        if (j == null) {
                            isrVals.push(0);
                        }
                        else {
                            isrVals.push(j);
                        }
                    });
                    //                isrYears.push(d.Year);
                    //                isrVals.push(d.Val);
                })


                xsData[countryName] = 'Year';


                //  Check if atleast one of the countries has any data to display..
                if(!(0 == isrVals.slice(1, isrVals.length).reduce((pv, cv) => pv+cv, 0))) {
                    dataExists = true;
                    data2Gen.data.columns.push(isrVals,isrYears);
                    data2Gen.data.xs[countryName] = 'Year';
                }


            }

            //  Draw only if there is atleast one country with data
            if(true == dataExists) {
                $("#graphs_container").append('<div class="col-sm-12 graph" id=' + chartId + 'e' + '> <h4 margin-left: 80px> <center>' + miniHeader + '</center></h4> <br><div id=' + chartId + '></div> <p>' + explenation + '</p> </div>');
                var chart = c3.generate(data2Gen);
                animateEnterence(chartId + 'e');
            }
        }

        setUpListeners();
        setSixDaysWar1967();

        var lastYearSelected = 0;

    </script>
</body>
</html>